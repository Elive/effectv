FAQ - よくある質問と回答
========================
2001/10/9 最終更新(バージョン0.3.3向け)

もくじ
------
Q1: 画面が乱れる/動かない/白黒になる/縮んで見える。
Q2: テレビ放送の画面は映るのだけど、ビデオ入力に表示を切り換えるには?
Q3: 一部のイフェクトが動作しない。
Q4: EffecTVの画面表示が止まってしまう。
Q5: bttvドライバの最新のもの(0.8系)を試したのだけど、EffecTVが動かない。
Q6: 他のOSにEffecTVを移植しないの?
Q7: EffecTVの出力を録画したいんだけど。
Q8: 動作が遅い。
Q9: カーネルやドライバをアップグレードしたら動かなくなっちゃった。

----------
Q1: 画面が乱れる/動かない/白黒になる/縮んで見える。

A: ビデオ入力信号の規格("norm"と呼ばれる)を調べてください。たいていはNTSCか
PAL、SECAMのうちのどれかです。そうしたら、EffecTVを立ち上げる際に、"-norm"
オプションでその信号を指定してください。例えば、お使いのビデオカメラがPAL信号
を出力する場合は、

$ effectv -norm pal

と指定します。video4linuxドライバでは、ntsc, pal, secamがサポートされています。
また、bttvドライバではさらに pal-m, pal-n, pal-nc, ntsc-jp がサポートされてい
ます。
----------
Q2: テレビ放送の画面は映るのだけど、ビデオ入力に表示を切り換えるには?

A: 以下のように指定してください。
$ effectv -channel 1

大抵の機器では、0=TV/1=Composite1/2=S-Video/3=Composite2 となっています。
これらの設定は使用しているビデオキャプチャーカードの仕様に依存しています。
いくつか試してみて、正しい設定を見付けてください。

バージョン 0.3.11 より、ALT キーを押しながら数字キーを押すことで、実行時にも入
力チャネルを切り換えられるようになりました。試してみてください。
----------
Q3: 一部のイフェクトが動作しない。

A: 古いバージョンのEffecTVでは、入力に白黒モードを使うイフェクトがありました。
これは一部の入力機器やドライバではサポートされていなかったので動作しない場合が
ありました。バージョン0.3.0以降では、これらの違いはEffecTVのコア部分が吸収する
ようになっているので、こうした事は起きません。最新版のEffecTVを入手してくださ
い。
----------
Q4: EffecTVの画面表示が止まってしまう。

A: linuxカーネルのバージョン2.2.18に含まれているbttvドライバは正しく動作しませ
ん。http://www.bytesex.org/bttv/から最新のドライバを持ってくるか、カーネルの
バージョンを上げてください。
----------
Q5: bttvドライバの最新のもの(0.8系)を試したのだけど、EffecTVが動かない。

A: Malk Zumstrull が教えてくれたところによると、bttv-0.8.10で試した場合、
EffecTVを再コンパイルしなければならなかったようです。これはvideodev.hの内容が
変更されたためのようです。なお、モジュールをロードする際に、"sloppy=1"というオ
プションを付けておけば、問題は回避できたそうです。

Thank you, Malk.
----------
Q6: 他のOSにEffecTVを移植しないの?

A: そうしたいのはやまやまなんですが、
a) 私はLinuxマシンとWindowsマシンしか持っていない
b) MS-Windowsへの移植にはすでに挫折した

他のOSに移植したいという方は大歓迎です。CVSツリーはSourceforgeで管理していま
す。興味をお持ちの方は http://sourceforge.net/projects/effectv/ を参照してくだ
さい。移植が始まったら、CVSに新しいブランチを設けます。もしCVSツリーを直接いじ
りたいという場合には、まずはSourceforgeのアカウントを取得して、それを私達に連
絡してください。デベロッパーグループにIDを登録した後、いじれるようになります。
----------
Q7: EffecTVの出力を録画したいんだけど。

A: EffecTVは、vloopbackデバイスを使って、出力画像を他のアプリケーションに渡す
事ができます。まずは、Jeroen Vreeken作のvloopbackドライバを、

http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice

からダウンロードしてきて、インストールしましょう。次に、ドライバをロードしたら
パイプの入出力デバイスファイルの名前を控えておきます(大抵の場合、/dev/video1と
/dev/video2になる)。そうしたら、次のようにしてEffecTVを立ち上げます。

$ effectv -vloopback /dev/video1

すると、イフェクトのかかった画像は /dev/video2 から読み込めるようになります。
今のところ、出力画像のフォーマットは、一部のものがサポートされていません。
----------
Q8: 動作が遅い。

A: EffecTVは1ピクセル32ビットの画面モードを使います。EffecTVを他の画面モードの
画面で立ち上げた場合、SDLが画面モードを変換して表示します。この変換処理のため
に動作が少し遅くなる場合があります。X11上で使う場合は、画面モードを32ビットの
ものに変更してから立ち上げてみてください。

また、ビデオキャプチャー機器が32ビットの画面モードをサポートしてない場合、
EffecTVが変換処理を行います。これも動作が遅くなる原因の一つです。

一方で、一部のUSBデバイスは、RGB32モードを使うと動作が遅くなります。これをYUV
系の画面モードに変更すると、速度が改善される場合があります。"-palette"オプショ
ンを使って、画面モードを変えてみてください。
----------
Q9: カーネルやドライバをアップグレードしたら動かなくなっちゃった。

Linuxカーネルのバージョンを2.4.6に上げたら、EffecTVが動かなくなった。立ち上げ
ると、以下のエラーメッセージが出る。

video_init: Can't find a supported pixel format.
Video initialization failed.

A: Linuxカーネルのバージョン2.4.6以降では、ほとんどのvideo4linuxドライバは、
ビデオキャプチャー機器が自前でサポートしている画面モード以外をサポートしないよ
うになっています。2.4.6以前では、ドライバ側で画面モードを変換していたので、
EffecTVは動くことができたのです。
EffecTVでは、バージョン0.3.1以降で、画面モードの変換をサポートするようになりま
した。これで大部分のドライバで動くようになった筈ですが、まだ一部の画面モードは
サポートされていません。

もし上記と同じようなエラーがまだ出るようだったら、toolsディレクトリに下にある
'palettecheck'コマンドを走らせて、その出力結果をバグレポートに付けて我々に送っ
てください。
