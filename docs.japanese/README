EffecTV 0.3.11

序
==
EffecTVはリアルタイムで動作するビデオイフェクターです。様々なイフェクターでビデ
やテレビを楽しめます。

インストール
============

必要なもの
----------
EffecTVはLinux用ソフトウェアとはいえ、インテルアーキテクチャに強く依存していま
す。他のアーキテクチャ上のLinuxではまず動かないでしょう。
#といいつつもPlayStation2用Linuxで動かす事に成功しました。詳しくは
#README.ps2を参照してください。

Video4linuxがサポートしているビデオキャプチャーカードかUSBデバイスが必要です。

SDL(http://www.libsdl.org/)のバージョン1.1.7以降が必要です。RedHatやDebian等の
パッケージを利用されている方は、開発用パッケージもインストールしておく必要があ
ります。

カーネルのvideo4linux機能(CONFIG_VIDEO_DEV)を有効にしておいてください。また、
あなたのビデオキャプチャー機器用のドライバが利用可能になっている事を確認してく
ださい。

Linux-2.2.18についてくるBttvドライバは壊れています。カーネルをバージョンアップ
するか、最新のドライバをhttp://www.bytesex.org/bttv/からダウンロードしてインス
トールしてください。

ビデオループバック機能を使う場合は、下記のサイトからドライバをダウンロードして
インストールしてください。バージョン0.91以降が必要となります。
http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice

*注意* 初期のlibc-2.2.5上だと、ビデオループバック機能が動作しません。最新の
libc-2.2.5のパッチか、お使いのディストリビューション用のパッケージを入手してく
ださい。Debian GNU/Linuxのwoodyをお使いであれば、libc6_2.2.5-4以降で上記の問題
が解決されていますので、それをインストールしてください。

一部のイフェクトの作成に、NASMというアセンブラを使います。NASMについては
http://nasm.sourceforge.net/
を参照してください。主要なLinuxディストリビューションではパッケージが出ていま
すので、そちらを利用されると良いでしょう。NASMを使用しない場合は、"config.mk"
を修正する必要があります。

コンパイルとインストール
------------------------
"config.mk"と"Makefile"を必要に応じて編集した後、

make

して

make install

でインストール完了です。コンパイルに問題が無ければ。
実行ファイルは"effectv"という名前で、/usr/local/bin/に、
マニュアルファイルは"effectv.1"という名前で/usr/local/man/man1/に、それぞれ
インストールされます。インストール先を変えたい場合は、Makefileを編集するか、
'make'の後に'make install'せずに自分で各ファイルをコピーしてください。

ビデオ入力のデバイスファイル(多分 /dev/video0)の読み書き権限がユーザーに与えら
れている事を確認してください。

使い方
======

その前に
--------
EffecTVを実行する前に、自分の機器構成についていくつか確認しておきましょう。

・つないでいるビデオ機器の信号の規格。日本だったら大抵は「NTSC-JP」。
・ビデオ入力機器がビデオキャプチャーカードのどのコネクタにつながっているか。
  video4linuxではこれを「チャンネル」と表記します。TVのチャンネルとは別物です
  ので注意してください。なお、普通のビデオキャプチャーカードだとチャンネル0が
  TV、チャンネル1がビデオ入力1になります。
・デバイスのファイル名。普通は"/dev/video0"。

これらの情報は、EffecTVを実行する時にコマンドラインオプションで与える事になり
ます。次節を参照してください。

説明
----
コマンドラインから、以下の形式で実行します。

effectv [オプション...] [イフェクト名]

オプション
----------
-device FILE
	デバイスファイルのファイル名を与えます。省略すると"/dev/video0"を使用し
	ます。

-channel NUMBER
	ビデオ入力のチャンネル番号を指定。デフォルトは 0。

-norm {ntsc,pal,secam,pal-nc,pal-m,pal-n,ntsc-jp}
	ビデオ信号の規格を指定します。デフォルトでは ntsc ですが、日本だと
	ntsc-jpの方が若干良いようです。

-freqtab {us-bcast,us-cable,us-cable-hrc,japan-bcast,japan-cable,europe-west,
          europe-east,italy,newzealand,australia,ireland,france,china-bcast,
          southafrica,argentina,canada-cable,australia-optus}
	TV入力を見る時に使う、周波数表を指定します。日本ではjapan-bcast(地上波)
	かjapan-cable(ケーブルTV?)を選択してください。

-fullscreen
	フルスクリーンモードで起動します。
-hardware
	可能なら、画面の直接書き換えモードで起動します。動作が速くなる事があり
	ます。
-doublebuffer
	可能なら、ダブルバッファモードを使います。動作が速くなり、画質が良くな
	る事があります。
-fps
	毎秒何フレーム処理できてるかをタイトルバーに表示します。

-size WxH
	入力画面のサイズを指定します。サイズを大きくするとEffecTVの動作が一般
	に遅くなります。大きな画面が必要な場合は、"-scale"オプションを使用する
	事も検討してください。

-geometry WxH
	出力画面のサイズを指定します。普通は"-scale"オプションの方が使いやすい
	でしょう。

-scale NUMBER
	出力画面の倍率を指定します。"-scale 2"と指定すれば、縦横2倍の画面を得
	ます。

-autoplay NUMBER
	イフェクトを、NUMBER枚のフレームを表示したら自動的に切り換えます。

-palette {rgb24,rgb565,rgb555,yuv422,yuv422p,yuv420p,yuv411p,yuv410p,grey}
	ビデオ入力デバイスのパレットを指定します。通常は自動的に選択されるので
	このオプションを指定する必要はありません。一部のUSBデバイスではRGB系の
	パレットを使用すると動作が遅くなります。そういった場合にこのオプション
	でYUV系のパレットを選択すると、改善される事があります。

-vloopback FILE
	ビデオループバック機能を使用します。ビデオループバッスの入力デバイス名
	を指定してください。

イフェクト名
	好きなイフェクトを選んで起動したい場合には、コマンドラインでイフェクト
	の名前を最後に指定してください。大文字小文字は区別されません。また、最
	後の"TV"は省略可能です。

キー
----
上下矢印  イフェクトを切り換えます。
左右矢印  TVを見ている時に、チャンネルを切り換えます。
スペース  一部のイフェクトで、背景イメージの取り込みを指示したり、モードを切り
          換えるのに使います。
ALT+ENTER フルスクリーンモードに切り換えます。もう一度押すと元に戻ります。
タブ      左右反転させます。もう一度押すと元に戻ります。
Escape    EffecTVを終了します。
ALT+0-9   ビデオ入力のチャンネルを切り換えます。
F1/F2     映像の輝度を調整します。(上げる/下げる)
F3/F4     映像の色相を調整します。(赤っぽく/青っぽく)
F5/F6     映像の色調の強さをを調整します。(強める/弱める)
F7/F8     映像のコントラストを調整します。(強める/弱める)
F12       この説明を表示します。

個々のイフェクトでは他にもいくつかのキーやマウスによる操作ができます。詳しくは
ドキュメントパッケージ(effectv-docs-ja.tar.gz)をダウンロードして参照してくださ
い。

イフェクト概要
------------------
QuarkTV
    動いてるものを分解します。

FireTV
    前景を切り出して、燃やします。

BurningTV
    前景を燃やします。

RadioacTV
    動いているものが輝いて、オーラを発します。

StreakTV
    8枚分の残像を表示します。

BaltanTV
    もっと長い残像を表示します。

1DTV
    フレーム毎に線一本分だけ取り込みます。

DotTV
    入力画像をドットに変換。

MosaicTV
    前景にモザイクをかけます。

PuzzleTV
    入力画像がパズルに。

PredatorTV
    前景を(見えるように)透明にします。

SpiralTV
    動いてるものを同心円状に歪めます。

SimuraTV
    色調変換と鏡像生成。

EdgeTV
    輪郭線を抽出します。

ShagadelicTV
    サイケなディスコチックに。

NoiseTV
    前景に砂嵐ノイズをかぶせます。

AgingTV
    フィルム劣化イフェクト。

LifeTV
    コンウェイのライフゲームをEffecTVで遊ぶ。

TransFormTV
    画像の座標変換イフェクト。

SparkTV
    前景にスパークが走ります。

warpTV
    ぐにょーん。(としか言いようがない)

HolographicTV
    映画「スターウォーズ」のホロビデオっぽい表示。

cycleTV
    色調をどんどん変えて表示します。

RippleTV
    入力画像の動きに応じて波紋を表示します。

DiceTV
    入力画像を切り刻んで表示します。

VertigoTV
    回転拡大したイメージを重ね合わせていきます。

DeinterlaceTV
    インターレースノイズを低減します。

NervousTV
    フレームの順番を出鱈目に入れ換えます。

RndmTV
    画像にノイズを乗せます。

RevTV
    波形モニタのような効果を表示します。

RandomDotStereoTV
    ランダムドットステレオグラムを生成します。

LensTV
    懐しのレンズ効果。

DiffTV
    フレーム間の差分を強調表示します。

MatrixTV
    Matrix風効果。

PUPTV
    "Partial Update"の略で、1フレーム毎に特定の場所だけ更新されていく。 

ChameleonTV
    じっとしていると消えます。

OpTV
    オプティカルアートがリアルタイムイフェクトになった?!

NervousHalf
    画面の半分が遅れたり、Nervous 効果がかかったりします。

SloFastTV
    非線型時間効果。

DisplayWall
	縦横に無限に連なるディスプレイに囲まれたような演出をします。

BlueScreenTV
	背景をカメラ画像から作って、さらにクロマキー合成をします。

ColourfulStreak
	色つきの残像を表示します。

TimeDistortion
	動きのあったところで時間が巻き戻る効果です。

EdgeBlurTV
	輪郭を抽出し、ぼかしをかけます。

Vloopback機能の使い方 - EffecTVの出力を録画・放送するには
---------------------------------------------------------
EffecTVはバージョン0.2.0からビデオループバック機能をサポートしています。この
機能を使うと、EffecTVがあたかもビデオ入力デバイスであるかのように使うことがで
きるようになります。

まずvloopbackモジュールをインストールしましょう。もしソースからコンパイルして
インストールするのであれば、"README.vloopback"を参照してください。

次に、vloopbackデバイスのモジュールを組み込み、使用するパイプの入力/出力デバイ
スのファイル名を控えておきます。通常は、入力が/dev/video1で、出力が/dev/video2
になります。

次に、EffecTVを以下のようにして起動します。

$ effectv -vloopback /dev/video1

-vloopbackの後に、先程控えておいた、パイプの入力デバイス側のファイル名を指定し
ます。これで、/dev/video2からEffecTVの出力画像が読めるようになります。例えば
EffecTVをさらにつなげる場合には、

$ effectv -device /dev/video2

としてやれば良いし、XawTvならば

$ xawtv -c /dev/video2

とすればOK。FFmpegを使って出力をmpeg1ファイルにするには、

$ ffmpeg -vd /dev/video2 -s 320x240 effect.mpg

とします。

video4linuxを使う録画/放送ソフトウェアなら、大抵のものが動作します。vloopback
はフレームバッファを使うI/Oをサポートしていないので、一部のソフトウェアは動作
しません。(例: streamer)

出力される画像の大きさは、画面のサイズが最大です。それより小さい大きさの画像が
要求された場合は自動的に縮小します。また、出力画像のフォーマットは、RGB32,
RGB24, RGB565, RGB555, YUV422, YUV422P, YUV420Pがサポートされています。

さらなる情報
============

Web
---
http://effectv.sourceforge.net/index.ja.html が公式の日本語ページです。


バグレポートや提案
------------------
バグレポートや提案は、

fukuchi@users.sourceforge.net

宛にお送りください。これは開発者の一人、福地の個人アドレスです。
開発者全員が読むメーリングリストへのメールの送付は、英語でお願いいたします。

また、SourceForgeのプロジェクトページの方に掲示板形式の議論用フォーラムが設け
てあります。

SourceForge
===========
EffecTVのプロジェクトページはSourceForge(http://sourceforge.net/)に置かせてい
ただいています。URLは

http://sourceforge.net/projects/effectv/

メーリングリスト
----------------
開発者向けメーリングリストを講読したい方は、以下のページにある説明をお読みくだ
さい。

http://lists.sourceforge.net/lists/listrinfo/effectv-developers

議論用フォーラム
----------------
プロジェクトページには4つのフォーラムがあります。

Japanese
	日本語で議論するためのフォーラムです。日本語で投稿される方は全てこちら
	の方へお願いします。
Help
	トラブルの質問など。
Effects coders forum
	イフェクトを作る人同士の情報交換の場。
Open Discussion
	その他何でも。

舞台裏とは
----------
BackStage Branch、すなわち「舞台裏版」とは、いわゆる開発版の事で、実験的機能や
新しいイフェクトなどはいったんこちらの版に組み込まれ、テストされます。

CVS
---
EffecTVのCVSツリーがプロジェクトページから入手できます。CVSの簡単な使い方が
プロジェクトページで読めますので、そちらを参照してください。

開発者権限でCVSツリーにアクセスするには、EffecTV開発者グループに加入する必要が
あります。まずは開発者グループに相談してください。

ライセンス情報
==============
EffecTVはフリーソフトウェアです。EffecTVはGNU General Public License version 2
(GPL2)に従って公開・配布されています。ライセンス文書は"COPYING"というファイル
に収められています。GPL2の日本語訳は、

ftp://ftp.sra.co.jp/pub/gnu/local-fix/GPL2-j/gpl.text.gz

で入手できます。

本プログラムは有用とは思いますが、頒布にあたっては、市場性及び特定目的適合性に
ついての暗黙の保証を含めて、いかなる保証も行ないません。詳細についてはGNU 一般
公有使用許諾書をお読みください。

もしEffecTVのソースコードを、GPLに準拠しない(ソースコードを公開しない)製品に利
用したい場合は我々に相談してください。

開発メンバー
============
クルーと呼んでね。"CREWS"に書かれています。

---
EffecTV crews
E-mail: effectv-developers@lists.sourceforge.net
Web: http://effectv.sourceforge.net/index.html
